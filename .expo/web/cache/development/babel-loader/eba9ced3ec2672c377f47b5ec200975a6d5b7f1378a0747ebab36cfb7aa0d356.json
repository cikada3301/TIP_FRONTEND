{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar DetailsScreen = function DetailsScreen() {\n  var _useState = useState([{\n      id: \"\",\n      name: \"\",\n      type: \"\",\n      weight: \"\",\n      price: 10,\n      numberCalories: 100,\n      numberFats: 100,\n      numberCarbohydrate: 100,\n      numberProteins: 100,\n      img: \"\"\n    }]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  useEffect(function () {\n    axios.get(\"http://localhost:9000/product\").then(function (response) {\n      return setProducts(response.data);\n    });\n  }, []);\n  var addProductToBasket = function addProductToBasket(id) {\n    axios.post(\"http://localhost:9000/basket/\" + id, {}, {\n      headers: {\n        'Authorization': \"Bearer \" + localStorage.getItem('token')\n      }\n    }).then();\n  };\n  var renderProduct = function renderProduct(_ref) {\n    var item = _ref.item;\n    return _jsxs(View, {\n      style: styles.product,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.img\n        },\n        style: {\n          width: 300,\n          height: 300\n        }\n      }), _jsx(Text, {\n        style: styles.productName,\n        children: item.name\n      }), _jsxs(Text, {\n        style: styles.productInfo,\n        children: [\"\\u041A\\u0430\\u043B\\u043E\\u0440\\u0438\\u0438: \", item.numberCalories]\n      }), _jsxs(Text, {\n        style: styles.productInfo,\n        children: [\"\\u0423\\u0433\\u043B\\u0435\\u0432\\u043E\\u0434\\u044B: \", item.numberCarbohydrate]\n      }), _jsxs(Text, {\n        style: styles.productInfo,\n        children: [\"\\u0416\\u0438\\u0440\\u044B: \", item.numberFats]\n      }), _jsxs(Text, {\n        style: styles.productInfo,\n        children: [\"\\u0411\\u0435\\u043B\\u043A\\u0438: \", item.numberProteins]\n      }), _jsxs(Text, {\n        style: styles.productPrice,\n        children: [item.price, \" USD\"]\n      }), _jsx(TouchableOpacity, {\n        style: styles.addToCartButton,\n        onPress: addProductToBasket(item.id),\n        children: _jsx(Text, {\n          style: styles.addToCartButtonText,\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n        })\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u043E\\u0432\"\n    }), _jsx(FlatList, {\n      data: products,\n      renderItem: renderProduct,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  product: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#ccc\"\n  },\n  productName: {\n    fontSize: 18\n  },\n  productInfo: {\n    fontSize: 14\n  },\n  productPrice: {\n    fontSize: 16,\n    color: \"orange\"\n  },\n  addToCartButton: {\n    backgroundColor: \"#8b00ff\",\n    padding: 10,\n    borderRadius: 5,\n    alignSelf: \"flex-start\"\n  },\n  addToCartButtonText: {\n    color: \"white\",\n    fontSize: 16,\n    fontWeight: \"bold\"\n  }\n});\nexport default DetailsScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","StyleSheet","Image","TouchableOpacity","axios","jsx","_jsx","jsxs","_jsxs","DetailsScreen","_useState","id","name","type","weight","price","numberCalories","numberFats","numberCarbohydrate","numberProteins","img","_useState2","_slicedToArray","products","setProducts","get","then","response","data","addProductToBasket","post","headers","localStorage","getItem","renderProduct","_ref","item","style","styles","product","children","source","uri","width","height","productName","productInfo","productPrice","addToCartButton","onPress","addToCartButtonText","container","title","renderItem","keyExtractor","create","flex","padding","fontSize","fontWeight","marginBottom","borderBottomWidth","borderBottomColor","color","backgroundColor","borderRadius","alignSelf"],"sources":["D:/Учеба 4 курс(2)/zxcursed/mobile/DetailsScreen.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    FlatList,\r\n    StyleSheet,\r\n    Image,\r\n    TouchableOpacity,\r\n} from \"react-native\";\r\nimport axios from \"axios\";\r\n\r\nconst DetailsScreen = () => {\r\n    const [products, setProducts] = useState([\r\n        {\r\n            id: \"\",\r\n            name: \"\",\r\n            type: \"\",\r\n            weight: \"\",\r\n            price: 10,\r\n            numberCalories: 100,\r\n            numberFats: 100,\r\n            numberCarbohydrate: 100,\r\n            numberProteins: 100,\r\n            img: \"\",\r\n        },\r\n    ]);\r\n\r\n    useEffect(()=> {\r\n        axios.get(\"http://localhost:9000/product\").then((response) => setProducts(response.data))\r\n    }, [])\r\n\r\n    const addProductToBasket = (id) => {\r\n        axios.post(\"http://localhost:9000/basket/\" + id, {}, {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }}).then()\r\n    }\r\n\r\n    const renderProduct = ({item}) => (\r\n        <View style={styles.product}>\r\n            <Image\r\n                source={{\r\n                    uri: item.img,\r\n                }}\r\n                style={{\r\n                    width: 300,\r\n                    height: 300,\r\n                }}\r\n            />\r\n            <Text style={styles.productName}>{item.name}</Text>\r\n            <Text style={styles.productInfo}>\r\n                Калории: {item.numberCalories}\r\n            </Text>\r\n            <Text style={styles.productInfo}>\r\n                Углеводы: {item.numberCarbohydrate}\r\n            </Text>\r\n            <Text style={styles.productInfo}>\r\n                Жиры: {item.numberFats}\r\n            </Text>\r\n            <Text style={styles.productInfo}>\r\n                Белки: {item.numberProteins}\r\n            </Text>\r\n            <Text style={styles.productPrice}>{item.price} USD</Text>\r\n            <TouchableOpacity style={styles.addToCartButton} onPress={addProductToBasket(item.id)}>\r\n                <Text style={styles.addToCartButtonText}>Добавить в корзину</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.title}>Список продуктов</Text>\r\n            <FlatList\r\n                data={products}\r\n                renderItem={renderProduct}\r\n                keyExtractor={(item) => item.id}\r\n            />\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        padding: 20,\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        fontWeight: \"bold\",\r\n        marginBottom: 20,\r\n    },\r\n    product: {\r\n        padding: 10,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: \"#ccc\",\r\n    },\r\n    productName: {\r\n        fontSize: 18,\r\n    },\r\n    productInfo: {\r\n        fontSize: 14,\r\n    },\r\n    productPrice: {\r\n        fontSize: 16,\r\n        color: \"orange\",\r\n    },\r\n    addToCartButton: {\r\n        backgroundColor: \"#8b00ff\",\r\n        padding: 10,\r\n        borderRadius: 5,\r\n        alignSelf: \"flex-start\",\r\n    },\r\n    addToCartButtonText: {\r\n        color: \"white\",\r\n        fontSize: 16,\r\n        fontWeight: \"bold\",\r\n    },\r\n});\r\n\r\nexport default DetailsScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}